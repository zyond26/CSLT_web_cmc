<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Settings</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="icon"
      type="image/x-icon"
      href="https://i.pinimg.com/736x/65/22/5a/65225ab6d965e5804a632b643e317bf4.jpg"
    />

    <style>
      body {
        background-image: linear-gradient(to top, #5ee7df 0%, #b490ca 100%);
        background-repeat: no-repeat;
        background-attachment: fixed;
      }

      .btn1 {
        background-color: #03f5ed;
        padding: 12px 16px;
        border: none;
        margin: 15px;
      }

      .btn1 a {
        text-decoration: none;
        color: #000;
      }

      .btn1:hover {
        background-color: #07f;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <!-- Màn hình loading -->
    <div id="loading" class="loading-screen">
      <div class="spinner"></div>
      <p>Loading...</p>
    </div>

    <button class="btn1">
      <a href="home.html"><i class="fa-solid fa-house"></i> Home</a>
    </button>
    <div class="settings-container">
      <h2>Settings</h2>

      <div class="settings-box">
        <h3>Change Username</h3>
        <form id="usernameForm">
          <label for="username">New Username:</label>
          <input type="text" id="username" name="username" required />
        </form>
      </div>

      <div class="settings-box">
        <h3>Change Password</h3>
        <form id="passwordForm" onsubmit="updateSettings(event)">
          <label for="password">New Password:</label>
          <input type="password" id="password" name="password" required />

          <label for="confirmPassword">Confirm New Password:</label>
          <input
            type="password"
            id="confirmPassword"
            name="confirmPassword"
            required
          />

          <button type="submit">Save Changes</button>
        </form>
      </div>
    </div>

    <script src="/JS/script.js"></script>
    <script>
      // Handle settings form submission and store data in localStorage
      function updateSettings(event) {
        event.preventDefault();
        const username = document.getElementById("username").value;
        const password = document.getElementById("password").value;
        const confirmPassword =
          document.getElementById("confirmPassword").value;

        if (password !== confirmPassword) {
          alert("Passwords do not match. Please try again.");
          return;
        }

        // Save the updated username and password in localStorage
        localStorage.setItem("username", username);
        localStorage.setItem("password", password);

        alert("Settings updated successfully!");

        // Optionally, redirect to user_info.html to view updated info
        window.location.href = "user_info.html";
      }
    </script>
  </body>
</html>
